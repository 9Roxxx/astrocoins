# üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AstroCoins v2.1 –Ω–∞ VPS

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å–∏–∏ 2.1:
- **–°–∏—Å—Ç–µ–º–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–π** —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —à–∫–æ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** (–ì–æ—Ä–æ–¥–∞ ‚Üí –®–∫–æ–ª—ã ‚Üí –ö—É—Ä—Å—ã ‚Üí –ì—Ä—É–ø–ø—ã)
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–æ–ª—è –≥—Ä—É–ø–ø** (–∫—É—Ä—Å, —à–∫–æ–ª–∞, –¥–∞—Ç–∞, –≤—Ä–µ–º—è, –∫–∞–±–∏–Ω–µ—Ç, –∫—É—Ä–∞—Ç–æ—Ä)

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ VPS:

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VPS –ø–æ SSH
```bash
ssh root@your-server-ip
```

### 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /var/www/astrocoins
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
sudo systemctl stop astrocoins
sudo systemctl stop nginx
```

### 4. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
sudo -u postgres pg_dump astrocoins_db > backup_$(date +%Y%m%d_%H%M%S).sql
```

### 5. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ —Å GitHub
```bash
git pull origin main
```

### 6. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
source venv/bin/activate
```

### 7. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
```bash
pip install -r requirements.txt
```

### 8. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
```bash
python manage.py migrate
```

### 9. –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
```bash
python manage.py collectstatic --noinput
```

### 10. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
sudo systemctl start astrocoins
sudo systemctl start nginx
```

### 11. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```bash
sudo systemctl status astrocoins
sudo systemctl status nginx
```

## üéØ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

### –í –∞–¥–º–∏–Ω–∫–µ Django (https://–≤–∞—à-–¥–æ–º–µ–Ω/admin/):
1. **–ì–æ—Ä–æ–¥–∞** - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å City
2. **–®–∫–æ–ª—ã** - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å School  
3. **–ö—É—Ä—Å—ã** - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å Course
4. **–†–æ–¥–∏—Ç–µ–ª–∏** - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å Parent
5. **–ì—Ä—É–ø–ø—ã** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–µ –ø–æ–ª—è (–∫—É—Ä—Å, —à–∫–æ–ª–∞, –¥–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–∫–∞, –∫—É—Ä–∞—Ç–æ—Ä, –∫–∞–±–∏–Ω–µ—Ç, –≤—Ä–µ–º—è)

### –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (https://–≤–∞—à-–¥–æ–º–µ–Ω/):
1. **–ù–∞–≤–∏–≥–∞—Ü–∏—è** - –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é "–®–∫–æ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞"
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏** - `/city-management/`
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∫–æ–ª–∞–º–∏** - `/school-management/`
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏** - `/parent-management/`
5. **–°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø** - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤ `/groups/`
6. **–ü—Ä–æ—Ñ–∏–ª—å —É—á–µ–Ω–∏–∫–∞** - –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–æ–¥–∏—Ç–µ–ª–µ

## üîß –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

```bash
python manage.py shell -c "
from core.models import City, School, Course

# –°–æ–∑–¥–∞–µ–º –≥–æ—Ä–æ–¥–∞
moscow = City.objects.create(name='–ú–æ—Å–∫–≤–∞')
spb = City.objects.create(name='–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥')

# –°–æ–∑–¥–∞–µ–º —à–∫–æ–ª—ã
school1 = School.objects.create(
    city=moscow,
    name='–ì–ë–û–£ –®–∫–æ–ª–∞ ‚Ññ 1234',
    director='–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á',
    representative='–ü–µ—Ç—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞',
    address='–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10',
    phone='+7 (495) 123-45-67',
    email='school1234@edu.mos.ru'
)

# –°–æ–∑–¥–∞–µ–º –∫—É—Ä—Å—ã
Course.objects.create(
    school=school1,
    name='–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python',
    description='–ò–∑—É—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è',
    duration_hours=72,
    is_active=True
)

print('–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã!')
"
```

## üÜò –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:

### –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏:
```bash
git log --oneline -5  # –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã
git reset --hard COMMIT_HASH  # –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –∫ –Ω—É–∂–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
python manage.py migrate
sudo systemctl restart astrocoins
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏:
```bash
sudo -u postgres psql -d astrocoins_db -f backup_YYYYMMDD_HHMMSS.sql
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.

---
**AstroCoins v2.1** - –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ